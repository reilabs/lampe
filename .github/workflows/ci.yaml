name: CI
on: [push, pull_request]
jobs:
    check-lean:
        runs-on: ubuntu-latest
        steps:
            - name: Cheeckout repository
              uses: actions/checkout@v4
              with:
                sparse-checkout: |
                  Lampe
            - name: Set up Lean 4
              uses: leanprover/lean-action@v1
              with:
                auto-config: false
                build: false
                test: false
                lint: false
                use-mathlib-cache: true
                lake-package-directory: Lampe
            - name: Build (lake)
              uses: leanprover/lean-action@v1
              with:
                auto-config: true
                use-mathlib-cache: true
                lake-package-directory: Lampe
    check-cargo:
      runs-on: ubuntu-latest
      steps:
          - name: Cheeckout repository
            uses: actions/checkout@v4
          - name: Set up Rust
            uses: actions-rs/toolchain@v1
            with:
              toolchain: stable
          - name: Build (cargo)
            run: cargo build --release
          - name: Test (cargo)
            run: cargo test
  